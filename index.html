<!DOCTYPE html>
<script src="https://d3js.org/d3.v5.min.js"></script>
<html>
    <head>
        <link rel="stylesheet" href="styles.css">
        <script src="Java_Scripts/check.js"></script>
    </head>
    <body >
            <p>
                    <label for="OlympicsHeldYear" 
                           style="display: inline-block; width: 500px; text-align: right">
                           Year: <span id="selectedYear" style="width:400px">1896</span>
                    </label>
                    <input type="range" min="1896" max="2012" id="OlympicsHeldYear">
                  </p>
        <button onclick="pageLoad(1896,1924)">1</button><button onclick="pageLoad(1925,1953)">2</button><button onclick="pageLoad(1954,1983)">3</button><button onclick="pageLoad(1984,2012)">4</button>
    </body>
    <script>
      document.getElementById("OlympicsHeldYear").step = "4";
      var sliderRange = document.getElementById("OlympicsHeldYear");
      var selectedYear = document.getElementById("selectedYear");
      sliderRange.oninput = function() {
        selectedYear.innerHTML = this.value;
      }
        async function pageLoad(startYear,endYear) {
            const slideOneData = await d3.csv('https://raw.githubusercontent.com/samsri01/Repo-For-CSV-File-Storage/master/SummerOlympicMedalWinnersData.csv', function (d) {
                if ((d.Year >= startYear) && (d.Year <= endYear))
                {
                    return {                   
                        OlympicsHeldYear : d.Year = +d.Year,
                        MenGoldMedalWinners : d.TotalMenGoldMedalWinners = +d.TotalMenGoldMedalWinners,
                        MenSilverMedalWinners : d.TotalMenSilverMedalWinners = +d.TotalMenSilverMedalWinners,
                        MenBronzeMedalWinners : d.TotalMenBronzeMedalWinners = +d.TotalMenBronzeMedalWinners,
                        WomenGoldMedalWinners : d.TotalWomenGoldMedalWinners = +d.TotalWomenGoldMedalWinners,
                        WomenSilverMedalWinners : d.TotalWomenSilverMedalWinners = +d.TotalWomenSilverMedalWinners,
                        WomenBronzeMedalWinners : d.TotalWomenBronzeMedalWinners = +d.TotalWomenBronzeMedalWinners,
                        TotalMenMedalWinners : d.TotalMenGoldMedalWinners + d.TotalMenSilverMedalWinners + d.TotalMenBronzeMedalWinners,
                        TotalWomenMedalWinners : d.TotalWomenGoldMedalWinners + d.TotalWomenSilverMedalWinners + d.TotalWomenBronzeMedalWinners,
                        MenMedalWinnersPer100 : Math.round(((d.TotalMenGoldMedalWinners + d.TotalMenSilverMedalWinners + d.TotalMenBronzeMedalWinners)/((d.TotalMenGoldMedalWinners + d.TotalMenSilverMedalWinners + d.TotalMenBronzeMedalWinners) + (d.TotalWomenGoldMedalWinners + d.TotalWomenSilverMedalWinners + d.TotalWomenBronzeMedalWinners))*100)*100)/100,
                        WomenMedalWinnersPer100 : Math.round(((d.TotalWomenGoldMedalWinners + d.TotalWomenSilverMedalWinners + d.TotalWomenBronzeMedalWinners)/((d.TotalMenGoldMedalWinners + d.TotalMenSilverMedalWinners + d.TotalMenBronzeMedalWinners) + (d.TotalWomenGoldMedalWinners + d.TotalWomenSilverMedalWinners + d.TotalWomenBronzeMedalWinners))*100)*100)/100
                    };
                }
            }).then (function (data) {
                console.log(data);
            });    
        }
    </script>
</html>
